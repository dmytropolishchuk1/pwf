{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import io from'socket.io-client';import{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SERVER_URL=\"https://pwfpwfpwf-3f02d2a899b2.herokuapp.com/\";const socket=io(SERVER_URL);const Landing=()=>{const navigate=useNavigate();const[joinGameId,setJoinGameId]=useState('');const[playerId,setPlayerId]=useState('');useEffect(()=>{// Check if a playerId already exists in localStorage\nlet storedPlayerId=localStorage.getItem('playerId');if(!storedPlayerId){// If not, generate a new one and store it\nstoredPlayerId=uuidv4();localStorage.setItem('playerId',storedPlayerId);}setPlayerId(storedPlayerId);},[]);const startGame=()=>{const newGameId=uuidv4();// Emit 'joinGame' with the new gameId, the persisted playerId, and a placeholder playerName\nsocket.emit('joinGame',{gameId:newGameId,playerId,playerName:'Host'});// Navigate to the game page with the new gameId\nnavigate(\"/game/\".concat(newGameId));};const joinGame=()=>{if(joinGameId){// Emit 'joinGame' event with the gameId from input, the persisted playerId, and a playerName\nsocket.emit('joinGame',{gameId:joinGameId,playerId,playerName:'Guest'});// Navigate to the game page with the joinGameId\nnavigate(\"/game/\".concat(joinGameId));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"landing\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"start-anchor\",href:\"#\",onClick:startGame,children:\"Start Game\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Game ID\",value:joinGameId,onChange:e=>setJoinGameId(e.target.value)}),/*#__PURE__*/_jsx(\"a\",{className:\"join-anchor\",href:\"#\",onClick:joinGame,children:\"Join Game\"})]});};export default Landing;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","io","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","SERVER_URL","socket","Landing","navigate","joinGameId","setJoinGameId","playerId","setPlayerId","storedPlayerId","localStorage","getItem","setItem","startGame","newGameId","emit","gameId","playerName","concat","joinGame","className","children","href","onClick","type","placeholder","value","onChange","e","target"],"sources":["C:/Users/dvp07/finalpoker/client/src/Landing.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport io from 'socket.io-client';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst SERVER_URL = \"https://pwfpwfpwf-3f02d2a899b2.herokuapp.com/\"; \r\nconst socket = io(SERVER_URL);\r\n\r\nconst Landing = () => {\r\n  const navigate = useNavigate();\r\n  const [joinGameId, setJoinGameId] = useState('');\r\n  const [playerId, setPlayerId] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Check if a playerId already exists in localStorage\r\n    let storedPlayerId = localStorage.getItem('playerId');\r\n    if (!storedPlayerId) {\r\n      // If not, generate a new one and store it\r\n      storedPlayerId = uuidv4();\r\n      localStorage.setItem('playerId', storedPlayerId);\r\n    }\r\n    setPlayerId(storedPlayerId);\r\n  }, []);\r\n\r\n  const startGame = () => {\r\n    const newGameId = uuidv4();\r\n    // Emit 'joinGame' with the new gameId, the persisted playerId, and a placeholder playerName\r\n    socket.emit('joinGame', { gameId: newGameId, playerId, playerName: 'Host' });\r\n    // Navigate to the game page with the new gameId\r\n    navigate(`/game/${newGameId}`);\r\n  };\r\n\r\n  const joinGame = () => {\r\n    if (joinGameId) {\r\n      // Emit 'joinGame' event with the gameId from input, the persisted playerId, and a playerName\r\n      socket.emit('joinGame', { gameId: joinGameId, playerId, playerName: 'Guest' });\r\n      // Navigate to the game page with the joinGameId\r\n      navigate(`/game/${joinGameId}`);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"landing\">\r\n      <a className=\"start-anchor\" href='#' onClick={startGame}>Start Game</a>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter Game ID\"\r\n        value={joinGameId}\r\n        onChange={(e) => setJoinGameId(e.target.value)}\r\n      />\r\n      <a className=\"join-anchor\" href='#' onClick={joinGame}>Join Game</a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,OAASC,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,UAAU,CAAG,+CAA+C,CAClE,KAAM,CAAAC,MAAM,CAAGR,EAAE,CAACO,UAAU,CAAC,CAE7B,KAAM,CAAAE,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd;AACA,GAAI,CAAAiB,cAAc,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACrD,GAAI,CAACF,cAAc,CAAE,CACnB;AACAA,cAAc,CAAGb,MAAM,CAAC,CAAC,CACzBc,YAAY,CAACE,OAAO,CAAC,UAAU,CAAEH,cAAc,CAAC,CAClD,CACAD,WAAW,CAACC,cAAc,CAAC,CAC7B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,SAAS,CAAGlB,MAAM,CAAC,CAAC,CAC1B;AACAM,MAAM,CAACa,IAAI,CAAC,UAAU,CAAE,CAAEC,MAAM,CAAEF,SAAS,CAAEP,QAAQ,CAAEU,UAAU,CAAE,MAAO,CAAC,CAAC,CAC5E;AACAb,QAAQ,UAAAc,MAAA,CAAUJ,SAAS,CAAE,CAAC,CAChC,CAAC,CAED,KAAM,CAAAK,QAAQ,CAAGA,CAAA,GAAM,CACrB,GAAId,UAAU,CAAE,CACd;AACAH,MAAM,CAACa,IAAI,CAAC,UAAU,CAAE,CAAEC,MAAM,CAAEX,UAAU,CAAEE,QAAQ,CAAEU,UAAU,CAAE,OAAQ,CAAC,CAAC,CAC9E;AACAb,QAAQ,UAAAc,MAAA,CAAUb,UAAU,CAAE,CAAC,CACjC,CACF,CAAC,CAGD,mBACEL,KAAA,QAAKoB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBvB,IAAA,MAAGsB,SAAS,CAAC,cAAc,CAACE,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEV,SAAU,CAAAQ,QAAA,CAAC,YAAU,CAAG,CAAC,cACvEvB,IAAA,UACE0B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAErB,UAAW,CAClBsB,QAAQ,CAAGC,CAAC,EAAKtB,aAAa,CAACsB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cACF5B,IAAA,MAAGsB,SAAS,CAAC,aAAa,CAACE,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEJ,QAAS,CAAAE,QAAA,CAAC,WAAS,CAAG,CAAC,EACjE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}